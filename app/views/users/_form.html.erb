<%= render 'layouts/errors', object: @user %>

<div class="row">

    <%= form_for(@user, html: { multipart: true }) do |f| %>
      <div class="form-group">
        <div class="col-sm-2 col-sm-offset-1">
          <span class="required">Profile picture</span>
        </div>
        <div class="col-sm-8">
          <span class="picture">
            <%= f.file_field :picture, accept: 'image/jpeg, image/gif, image/png' %>
          </span>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-2 col-sm-offset-1">
          <%= f.label :first_name, class: 'required' %>
        </div>
        <div class="col-sm-8">
          <%= f.text_field :first_name, class: 'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-2 col-sm-offset-1">
          <%= f.label :last_name, class: 'required' %>
        </div>
        <div class="col-sm-8">
          <%= f.text_field :last_name, class: 'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-2 col-sm-offset-1">
          <%= f.label :email, class: 'required' %>
        </div>
        <div class="col-sm-8">
          <%= f.email_field :email, class: 'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-2 col-sm-offset-1">
          <%= f.label :location, class: 'required' %>
        </div>
        <div class="col-sm-8">
          <%= f.text_field :location, class: 'form-control' %>
        </div>
      </div>

      <div class="form-group">
        <div class="col-sm-3 col-sm-offset-3">
          <%= f.submit(@user.new_record? ? 'Register' : 'Update Profile', class: 'btn btn-success') %>
        </div>
      </div>
      <% end %>
</div>

<script type="text/javascript">
  $('#recipe_picture').bind('change', function() {
    size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please select a smaller file.');
    }
  });
</script>
